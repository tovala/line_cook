version: 2

models:
  - name: surcharge_breakdowns
    description: "Breakdown surcharges by meal categories"
    columns:      
      - name: menu_meal_id
        data_tests:
          - primary_key
      - name: breakfast_surcharge_amount
        data_tests:
            - expression_is_true:
                arguments:
                  expression: '>= 0'
      - name: dual_serving_surcharge_amount
        data_tests:
            - expression_is_true:
                arguments:
                  expression: '>= 0'
      - name: dessert_surcharge_amount
        data_tests:
            - expression_is_true:
                arguments:
                  expression: '>= 0'
      - name: meal_extra_surcharge_amount
        data_tests:
            - expression_is_true:
                arguments:
                  expression: '>= 0'
      - name: premium_surcharge_amount
        data_tests:
            - expression_is_true:
                arguments:
                  expression: '>= 0'
      - name: surcharge_amount
        data_tests:
            - expression_is_true:
                arguments:
                  expression: '= breakfast_surcharge_amount + dual_serving_surcharge_amount + dessert_surcharge_amount + meal_extra_surcharge_amount + premium_surcharge_amount + family_meal_surcharge_amount'
