version: 2

models:
  - name: payment_line_items
    description: "Payment line items for all payments in payments table."
    columns:
      - name: payment_line_item_id
        description: "Primary key directly from raw table."
        data_tests:
          - primary_key
      - name: payment_id
        description: "Payment id associated with line item."
        data_tests:
          - not_null
      - name: invoice_amount
        description: "Invoice amount."
        data_tests:
          - not_null
      - name: transaction_amount
        description: "Transaction amount."
        data_tests:
          - not_null
      - name: payment_line_item_type
        data_tests:
          - not_null 
          - accepted_values:
              arguments:
                values: ['charge', 'discount', 'gift_card', 'gratuity', 'marketing_cash', 'meal_credit', 'meal_cash', 'refund', 'shipping', 'sku', 'sku_menuproduct', 'tax']