version: 2

models:
  - name: page_visits
    data_tests:
      - unique_columns:
          arguments:
            unique_column_list:
              - session_id
              - event_sequence
    columns:
      - name: page_visit_id
        data_tests:
          - primary_key
      - name: page_url
        data_tests:
          - not_null
      - name: device
        data_tests:
          - not_null
          - accepted_values:
              arguments:
                values: ['desktop', 'mobile', 'robot', 'tablet', 'unknown']