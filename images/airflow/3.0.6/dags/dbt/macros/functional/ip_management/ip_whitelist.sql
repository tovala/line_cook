{% macro ip_whitelist() %}
  {% set query %}
    USE ROLE accountadmin;
    ALTER NETWORK POLICY stitch_policy
      SET ALLOWED_IP_LIST = (

        -- Airbyte
        '34.106.109.131', '34.106.196.165', '34.106.60.246', '34.106.229.69',
        '34.106.127.139', '34.106.218.58', '34.106.115.240', '34.106.225.141',

        -- Airflow
        '3.90.82.6', '18.209.223.21', '44.222.58.230',

        -- AWS
        '34.214.146.198', '35.164.138.115', '35.164.59.56', '35.166.141.251',
        '44.236.139.173', '52.24.205.101', '52.27.170.152', '54.188.172.187',

        -- Customer IO
        '34.29.50.4', '35.222.130.209',

        -- Fullstory
        '8.35.195.0/29',

        -- HQ Server
        '107.131.31.233', '104.52.126.65',

        -- Office Static IP
        '104.52.126.64/29', '104.52.126.71', '107.131.31.232/29',

        -- Retool
        '35.90.103.132/30', '35.90.103.135', '44.208.168.68', '44.208.168.69/30',

        -- Sigma
        '54.188.54.135', '44.229.241.60',

        -- SLC Server
        '205.170.108.218', '205.170.108.220', '162.219.183.131',

        -- Software Gateway
        '34.216.41.179',

        -- Spice Rack
        '34.209.83.132',

        -- Spice Rack Autofill
        '54.203.236.187',

        -- Stitch
        '104.52.126.65', '52.204.223.208', '52.204.228.32', '52.204.230.227', '52.23.137.21',

        -- Supermetrics
        '54.75.55.54', '54.75.80.21', '54.247.165.52', '23.20.234.176', '34.140.128.0/24',

        -- Tailscale SLC
        '205.170.108.222',

        -- Additional Tailscale Server
        '98.253.58.100',

        -- Westvala
        '205.170.108.218',

        -- Peter
        '75.41.25.93',

        -- Jane
        '73.50.144.147'
      );
  {%- endset -%}
  {% do run_query(query) %}
{% endmacro %}